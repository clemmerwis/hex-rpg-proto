<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hex RPG Prototype</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <canvas id="gameCanvas"></canvas>

    <!-- Game State UI -->
    <div id="gameStateUI">
        <div id="stateIndicator" class="state-indicator state-exploration">EXPLORATION</div>
        <div id="combatInfo" class="combat-info" style="display: none;">
            <div>Turn: <span id="currentTurn" class="turn-indicator">1</span></div>
            <div>Active: <span id="activeCharacter">Player</span></div>
            <div>Enemies: <span id="enemyCount">0</span></div>
        </div>
        <div style="margin-top: 10px; font-size: 11px; color: #ccc;">
            <strong>Shift+Space:</strong> Toggle Combat<br>
            <strong>Space:</strong> Skip turn (in combat)
        </div>

        <!-- Debug Controls -->
        <div style="margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(255, 255, 255, 0.2);">
            <div><label><input type="checkbox" id="showGrid" checked> Show Grid</label></div>
            <div style="margin-top: 8px;">
                <label><input type="checkbox" id="hexMarkerMode"> Hex Marker Mode</label>
            </div>
            <div id="hexMarkerControls" style="margin-top: 5px; display: none;">
                <button id="exportHexes" style="font-size: 11px; padding: 3px 8px;">Export to Console</button>
                <button id="clearHexes" style="font-size: 11px; padding: 3px 8px;">Clear All</button>
                <div id="markedCount" style="font-size: 11px; margin-top: 3px;">Marked: 0</div>
            </div>
            <div style="margin-top: 10px; font-size: 11px;">
                <strong>Edge Scroll:</strong> Move mouse to edges<br>
                <strong>Camera:</strong> <span id="cameraPos">0, 0</span><br>
                <strong>PC Direction:</strong> <span id="directionInfo">dir8</span><br>
                <strong>Animation:</strong> <span id="animationInfo">idle</span><br>
                <strong>Keys:</strong> 1-6 for animations, 7 to spawn enemy, Click to move
            </div>
        </div>
    </div>

    <!-- Combat Log UI -->
    <div id="combatLog" class="combat-log">
        <div id="combatLogHeader" class="combat-log-header">
            Combat Log
            <button id="combatLogClear" class="combat-log-btn">Clear</button>
        </div>
        <div id="combatLogContent" class="combat-log-content"></div>
        <div id="combatLogResize" class="combat-log-resize-handle"></div>
    </div>

    <script type="module">
        import { Game } from './js/Game.js';

        // Create and initialize the game
        const game = new Game();
        window.game = game; // Expose for console debugging
        game.init();
    </script>
</body>

</html>